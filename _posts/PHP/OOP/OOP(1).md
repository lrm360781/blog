---
title: PHP面向对象编程（1.入门）
date: 2019-06-20 15:53:22
tags:
    - OOP
    - PHP
---
## 简介
面向对象的程序设计（英语：Object-oriented programming，缩写：OOP）中，对象是一个由信息及对信息进行处理的描述所组成的整体，是对现实世界的抽象。
###  面向过程的思想
就是将要完成的任务、工作、事件分解为若干个步骤，程序开始后，从前往后，每个步骤依次执行，最后达到期望的结果。
### 面向对象编程的思想
将要完成的任务、事件、工作，拆分为不同的对象，以及每个任务要完成的子任务，程序开始后，每个不同的对象，完成不同的子任务，所有的子任务完成后，即本项工作完成。

## 类与对象
类：是想现实世界的抽象，是某一类事物的统称。
对象：是具体的，是具体的事物，是类的实例化。
属性：类的变量成员叫做“属性”、“字段”、“特征”。
### 类与对象的关系
* 一个类可以创建多个对象
* 不同的对象的标识符(#编码)，是不一样的，由系统在创建对象时分配的标识符，按编号的顺序分配。
* 对象是类的实例化
### 成员属性
成员属性是类的一个组成部分，一般是由基本数据类型（整数，字符串等），也可以是复合类型（对象、数组），资源类型。
属性声明是由关键字 public，protected 或者 private 开头，然后跟一个普通的变量声明来组成。属性中的变量可以初始化，但是初始化的值必须是常数，这里的常数是指 PHP 脚本在编译阶段时就可以得到其值，而不依赖于运行时的信息才能求值。
```yaml
//对象访问属性
$obj_name->attributes;    //对象名指向属性名
“->” 称为对象运算符
```
### 对象传递方式
对象传递方式为 
```yaml
$a=$b;  //值拷贝，但是拷贝的不是数据本身，而是对象标识符
```
对象传递方式为 
```yaml
$a=&$b;  //地址指向，对象a指向对象b的标识符
```

### 成员方法
1.方法的本质是函数，成员方法的运行原理和普通函数是一样的
2.成员方法前面可以有访问修饰符，如果不写，默认为public
3.成员方法是定义在类中的
4.方法的形式参数可以是多个，类型可以是任意类型
5.方法可以没有return，默认返回NULL
6.成员方法不可以直接调用，要通过对象实例调用
 
 ## 构造函数__construct
 基本语法
 ```yaml
class  类名{
    //构造函数
    访问修饰符 function  __construct(形参列表){
    //可以对成员属性进行初始化.
    }
}
```
* 构造函数的访问修饰符可以是 public , protected, private , 一般情况下是public ,默认就是public
* 构造函数是由系统调用的，程序员不能显式调用
* 在创建对象时，系统会自动调用该类的构造函数完成对象的初始化
* 构造函数没有返回值
* 在一个类中，构造函数只能有一个，也可以用类名作为构造函数，推荐使用__construct()，实际上也只能使用一个构造方法
* 主要作用是完成对新对象的初始化，并不是创建对象本身

### 默认构造函数
默认构造函数（default constructor）就是在没有显式提供初始化式时调用的构造函数。它由不带参数的构造函数，或者为所有的形参提供默认实参的构造函数定义。

 一旦自定义了构造函数，默认构造函数就会被覆盖，这时在创建对象时就使用自定义的构造函数。
 ### this介绍
 this表示当前的对象，只能在类中使用，而不能在类外使用。
 
 ## 析构函数__destruct
析构函数会在到某个对象的所有引用都被删除或者当对象被显式销毁时执行。

对象的所有引用被删除指:
1.使用unset()，将对象销毁 
2.$对象名=null
3.$对象名='abs';
显式销毁：上面三种方式，都是显式销毁，所谓显式销毁就是程序员主动删除对象引用。
如果程序员不主动显式销毁对象，那么在程序执行完毕后，这个对象就会被系统销毁，这就是系统销毁。
 
### 说明
析构函数没有形式参数，析构函数是系统调用
析构函数会在如下情况下被系统调用:
1.php文件执行完毕
2.某个对象的所有引用都被删除
析构函数不是销毁对象本身，而是在对象销毁前给程序员一个机会，可以让程序员去及时的回收对象创建的资源，比如数据库链接等等。

### 垃圾回收机制
在PHP中，当一个对象没有任何指向他的时候，就会成为一个垃圾对象，PHP将启用垃圾回收器将对象销毁；当程序退出前，PHP也将启用垃圾回收器，销毁对象。
