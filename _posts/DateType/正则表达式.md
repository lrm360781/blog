---
title: 正则表达式
tags:
    - 正则验证
date: 2019-05-09 11:24:13
---

## 概述
   正则表达式描述了一种字符串匹配的模式，可以用来检验一个字符串是否包含某个子串、将匹配的子串做替换或者从某个串中取出某个符合某个条件的子串等。
## 功用
     正则表达式功用：
        数据隐藏（188****7863）
        数据采集、数据过滤（屏蔽信息）
        数据验证（手机号、邮箱号等）

## JS标准库中的正则对象
### 创建正则对象
    1.字面量方式-以斜杠表示开始和结束: 
    var regex=/rms360.top/ ;
    2.构造函数生成-通过实例化得到对象：
    var regex=new RegExp(‘rms360’);
    上面两种方法是等价的，都新建了一个内容为rms360.top的正则对象。
    他们的主要区别是，第一个方法在编译时新建正则表达式，
    第二种方法是在运行时新建正则表达式。
### 匹配模式
   匹配模式即修饰符：表示正则匹配的附加规则，放在正则模式的最外部，修饰符可以单个使用，也可以多个一起使用。  
    在正则表达式中，匹配模式常用的有两种形式：
    g:global缩写，代表全局匹配，匹配出所有满足条件的结果，不加g第一次匹配成功后，正则对象就停止向下匹配；
    i:ignore缩写，代表忽略大小写，匹配对，会自动忽略字符串的大小写。 
### 语法：   
    修饰符添加方式
    var ms=/ms/i;
	var reg=new RegExp('ms',’i’);
### 正则对象的方法
   test(str)判断字符串中是否具有指定模式的子串，返回结果是一个bool类型的值。
    exce(str)返回字符串中指定的子串，一次只能获取一个与之匹配的结果。匹配什么，返回什么，如果查找不到则返回null。
    String对象方法
    search(reg)与indexOf非常相似，返回指定模式的子串在字符串中首次出现的位置
    match(reg)以数组形式返回指定模式的字符串
    replace(reg,’替换后的字符’)把指定模式的子串进行替换操作
    split(reg)以指定模式分割字符串，返回结果为数组，以reg作为分隔符，默认使用全局模式。
## 子表达式
在正则表达式中，通过一对圆括号括起来的内容，称为“子表达式”。如：
    var reg=/\ d(\d)\d/gi;                                                                                                                                                                                              
## 捕获
在正则表达式中，子表达式匹配到相应的内容时，系统会自动捕获这个行为，然后将子表达式匹配到的内容放入系统的缓存区，我们把这个过程称为“捕获”。
## 反向引用
    在正则表达式中，我们可以使用\n(n>0，正整数，代表系统中的缓存区编号)来获取缓存区的内容，这个过程为“反向引用”。
      查找连续相同的数据，例如：6666
    <script>
        var s='rms360.top/ks222298ms4544441994';
        var reg=/(\d)\1\1\1/; \1表示匹配与前一个缓存区相同的字符
        var z=s.match(reg);
        console.log(z);
    </script>
     Var reg=/(\d)\1(\d)\2/;/2表示第二个缓存区
### 示例
    1.匹配连续四个数字，如：1025
    Var n=/\d\d\d\d/;
    2.查找数字，如：1221，3443
    /(\d)(\d)\2\1/
    3.查早字符，如：AABB,TTMM
    /([A-Z])\1([A-Z])\2/
    4.查找连续相同的四个数字或四个字符
    /([0-9a-z])\1\1\1/;
## 编写正则表达式
### 正则表达式组成
    正则表达式是由普通字符（例如a-z）以及特殊字符（称为元字符）组成的文字模式。
    正则表达式作为一个模板，将某个字符模式与所搜索的字符串进行匹配。
    查找匹配符
    字符簇： [a-z]  [A-Z]  [0-9]   匹配元素集中的任意一个字符
    在字符簇中，通过一个^（脱字符）来表示取反的含义。
    [^abc]  表示匹配除abc之外的任一字符

### 系统提供的特殊的匹配符（常用）
    \d      等价于 [0-9]
    \D      等价于 [^0-9]
    \w      等价于 [0-9A-Za-z]
    \W     等价于 [\^w]
    \s       匹配任何空白字符 空格 回车 tab
    \S       等价于 [\^s]
    .(点)     匹配除回车“\n”之后的任何单个字符
    [\u4e00-\u9fa5]    匹配中文字符中的任一字符
    //JS中字符串特殊字符会被转义   

### 限定符
    *：匹配前面的子表达式0次或多次，0到多
    +：匹配前面的子表达式1次或多次，1到多
    ?：匹配前面的子表达式0次或多次，0或1
    {n}：匹配确定的n次
    {n,}：至少匹配n次
    {n,m}：至少匹配n次且最多匹配m次
    
    匹配QQ号码   /[1-9]\d{4,9}/;  第一位1-9，其他全是数字	QQ号长度为5-10位
### 定位符
    ^ (脱字符)：匹配输入字符串的开始位置
    $ ： 匹配输入字符串的结束位置
    \b： 匹配一个单词边界
    \B： 匹配非单词边界   
    编写正则表达式，匹配电话号码
    /^1[34578]\d{9}/;   第一位1，第二位34578中的一个，剩余9位数字就行
### 转义字符
    正则中需要我们转义的字符
    点号 .  小括号()  中括号[]  左斜杠/  右斜杠\  选择匹配符|
    Var t=’http://rms360.top’;
    Var reg=/\w+:\/\/\w+\.\w+/; 匹配URL地址  (.)需要转义
    
    Var reg=/\w+@\w+\.\w{2,6}/;
### 或者的用法
    Str=’ipad,iphone,imac’;
    
    /\bi(pad|mac|phone)\b/g;
## 预查
    Str = ‘hello,when I am working,do not coming’;
    //正向预查 正预测 前瞻 先行断言
    /\b\w+(?=ing\b)/g;  ?问号之后的表示判断是否是该字符结尾
    //负向预查 负预测 前瞻 先行否定
    /\b\w+(?!ing)\w+{3}\b/g;  找不是ing结尾，至少有4个字母



